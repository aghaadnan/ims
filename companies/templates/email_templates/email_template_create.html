{% extends 'base.html' %}

{% block content %}
<div class="main_content_iner ">
  <div class="container-fluid p-0 sm_padding_15px">
      <div class="row justify-content-center">
          <div class="col-lg-12">
              <div class="white_card card_height_100 mb_30">
                  <div class="white_card_header">
                      <div class="box_header m-0">
                          <div class="main-title">
                            <h2>Create Email Template</h2>
                          </div>
                      </div>
                  </div>
                  <div class="white_card_body">
                      <div class="card-body">
  
  <form method="post">
    {% csrf_token %}
    
    <div class="mb-3">
      <label class="form-label" for="{{ form.company.id_for_label }}">Company:</label>
      <select class="form-control" id="{{ form.company.id_for_label }}" name="{{ form.company.name }}" required>
        <option value="">Select a company</option>
        {% for company in form.company.field.choices %}
          <option value="{{ company.0 }}">{{ company.1 }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="row mb-3">
      <div class=" col-md-6">
        <label class="form-label" for="{{ form.days_before_expiry.id_for_label }}">Days Before Expiry:</label>
        <input type="number" class="form-control" id="{{ form.days_before_expiry.id_for_label }}" name="{{ form.days_before_expiry.name }}" value="{{ form.days_before_expiry.value|default:'' }}" required>
        <small id="hint_id_days_before_expiry" class="form-text text-muted">Enter the number of days before the renewal date when the system will send the email reminder.</small>
         
      </div>
      <div class=" col-md-6">
        <label class="form-label" for="{{ form.email_date.id_for_label }}">Email Date:</label>
        <input type="date" class="form-control" id="{{ form.email_date.id_for_label }}" name="{{ form.email_date.name }}" value="{{ form.email_date.value|default:'' }}" required>
        <small id="hint_id_email_date" class="form-text text-muted">Select the date when the system will send the email before the renewal date.</small>
          
      </div>
  </div>
    <div class="mb-3">
      <label class="form-label" for="{{ form.subject.id_for_label }}">Subject:</label>
      <input type="text" class="form-control" id="{{ form.subject.id_for_label }}" name="{{ form.subject.name }}" value="{{ form.subject.value|default:'' }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label" for="{{ form.body.id_for_label }}">Body</label>
      {% comment %} <textarea class="form-control" id="{{ form.body.id_for_label }}" name="{{ form.body.name }}" rows="10" required>{{ form.body.value|default:'' }}</textarea> {% endcomment %}
      {{ form.body }}
      <small id="hint_id_body" class="form-text text-muted"><b>Use the placeholders [Company Name], [Contact Person], [Expiry Date], and [Address] in the body, which will be replaced with the actual data when sending the email.</b></small>
    </div>
    
    <button type="submit" class="btn btn-primary">Create</button>
  </form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>  
{% endblock %}
