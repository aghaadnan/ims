{% extends 'base.html' %}
{% block content %}
<div class="main_content_iner ">
    <div class="container-fluid p-0 sm_padding_15px">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="white_card card_height_100 mb_30">
                    <div class="white_card_header">
                        <div class="box_header m-0">
                            <div class="main-title">
                                <h3 class="m-0">Company Form</h3>
                            </div>
                        </div>
                    </div>
                    <div class="white_card_body">
                        <div class="card-body">
                            <form method="post">
                                {% csrf_token %}
                                <div class="mb-3">
                                    <label class="form-label" for="id_name">Name<span class="asteriskField">*</span></label>
                                    <input type="text" class="form-control" id="id_name" required name="name" placeholder="Enter name">
                                    <small id="hint_id_username" class="form-text text-muted">Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.</small> 
                                </div>
                                <div class="row mb-3">
                                <div class="col-md-6">
  <label class="form-label" for="id_city">City<span class="asteriskField">*</span></label>
  <div class="dropdown">
    <button class="btn btn-light btn-block dropdown-toggle" type="button" id="cityDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Select City
    </button>
    <div class="dropdown-menu" aria-labelledby="cityDropdown">
      <div class="dropdown-header">
        <input type="text" class="form-control search-input" placeholder="Search...">
      </div>
      {% for value, label in form.city.field.choices %}
        <a class="dropdown-item" href="#" data-value="{{ value }}">{{ label }}</a>
      {% endfor %}
    </div>
    <input type="hidden" name="city" id="cityDropdownInput">
  </div>
</div>

                             
                                    <div class="col-md-6">
                                        <label class="form-label" for="id_contactperson">Contact Person<span class="asteriskField">*</span></label>
                                        <input type="text" class="form-control" id="id_contactperson" required name="contactperson" placeholder="Enter contact person name">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="id_phone">Phone<span class="asteriskField">*</span></label>
                                        <input type="text" class="form-control" id="id_phone" name="phone" required placeholder="Enter phone number">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="id_email">Email<span class="asteriskField">*</span></label>
                                        <input type="email" class="form-control" id="id_email" required name="email" placeholder="Enter email">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="id_address">Address<span class="asteriskField">*</span></label>
                                    <input type="text" class="form-control" id="id_address" required name="address" placeholder="Enter address">
                                </div>
                                                  
                                                  <div class="row mb-3">
                                                      <div class=" col-md-6">
                                                          <label class="form-label" for="id_GST">GST<span class="asteriskField">*</span></label>
                                                          <input type="text" name="GST" maxlength="255" class="form-control" required id="id_GST" placeholder="GST">
                                                         
                                                      </div>
                                                      <div class=" col-md-6">
                                                          <label class="form-label" for="id_NTN">NTN<span class="asteriskField">*</span></label>
                                                          <input type="text" name="NTN" maxlength="255" class="form-control" required id="id_NTN" placeholder="NTN">
                                                          
                                                      </div>
                                                  </div>
                                                  
                                                  <div class="row mb-3">
                                                      <div class=" col-md-6">
                                                          <label class="form-label" for="inputPackage">Package<span class="asteriskField">*</span></label>
                                                             <select class="form-control" id="{{ form.package.id_for_label }}" name="{{ form.package.name }}">
        {% for package in form.package.field.choices %}
            <option value="{{ package.0 }}">{{ package.1 }}</option>
        {% endfor %}
    </select>
                                                      </div>
                                                      
                                                        <div class="col-md-6">
                                                            <label class="form-label" for="id_renew_date">Renew Date<span class="asteriskField">*</span></label>
                                                            <input type="date" class="form-control" id="id_renew_date" required name="renew_date" placeholder="Enter renew date">
                                                        </div>
                                                    
                                                  </div>
                                                  
                                                  <button type="submit" class="btn btn-primary">Submit</button>
                                              </form>
                                          </div>
                                      </div>
                                  </div>
                              </div>
              </div>
            </div>
        </div>  
    {% block scripts %}
<script>
 
$(document).ready(function() {
  // Initialize dropdown menu with Popper JS
  new Popper($('#cityDropdown'), $('.dropdown-menu'), {
    placement: 'bottom-start',
  });

  // Handle search input
  $('.search-input').on('input', function() {
    var searchText = $(this).val().toLowerCase();

    // Show/hide options based on search text
    $('.dropdown-item').each(function() {
      var optionText = $(this).text().toLowerCase();
      if (optionText.indexOf(searchText) >= 0) {
        $(this).show();
      } else {
        $(this).hide();
      }
    });
  });

  // Handle option selection
  $('.dropdown-item').on('click', function(e) {
    e.preventDefault();
    var value = $(this).data('value');
    var label = $(this).text();
    $('#cityDropdown').html(label);
    $('#cityDropdownInput').val(value);
  });
});


</script>
{% endblock %} 
{% endblock %}

 {% comment %} {% extends 'base.html' %}

{% block content %}

  <div class="main_content_iner ">
 <div class="container-fluid p-0 sm_padding_15px">
<div class="row" >

<div  class="col">

</div>
<div  class="col-lg-6">

 <div class="white_card card_height_100 mb_30">
 <div class="white_card_body">
    <h1>Create Company</h1>
    <form method="post">
      {% csrf_token %}
      {% load crispy_forms_tags %}
      {{ form|crispy }}
      <button type="submit" class="btn btn-primary">Save</button>
    </form>
      </div>
</div>
</div>
<div  class="col">
</div>

</div>
</div>
</div>
{% endblock %}  {% endcomment %}

   {% comment %}  <div class="col-md-6">
  <label class="form-label" for="id_city">City<span class="asteriskField">*</span></label>
  <select class="form-control select2 mb-3" id="id_city" required name="city">
    {% for value, label in form.city.field.choices %}
      <option value="{{ value }}">{{ label }}</option>
    {% endfor %}
  </select>
</div>
                                   <div class="col-md-6">
                                        <label class="form-label" for="id_city">City<span class="asteriskField">*</span></label>
                                        <select class="form-control" id="id_city" required name="city">
  {% for value, label in form.city.field.choices %}
    <option value="{{ value }}">{{ label }}</option>
  {% endfor %}
</select>

                                    </div> {% endcomment %}