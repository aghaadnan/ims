{% extends 'base.html' %}

{% block content %}
<div class="main_content_iner ">
    <div class="container-fluid p-0 sm_padding_15px">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="white_card card_height_100 mb_30">
                    <div class="white_card_header">
                        <div class="box_header m-0">
                            <div class="main-title">
                                <h3 class="m-0">Register</h3>
                            </div>
                        </div>
                    </div>
                    <div class="white_card_body">
                        <div class="card-body">
 
                              <form method='post'>
                              {% csrf_token %}
                              <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label" for="id_username">Username<span class="asteriskField">*</span></label>
                                    <input type="text" class="form-control" id="id_username" required name="username" placeholder="Username">
                                    <small id="hint_id_username" class="form-text text-muted">Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.</small> 
                                </div>


                                <div class="col-md-6">
    <label class="form-label" for="id_company">Company<span class="asteriskField">*</span></label>
    <div class="dropdown">
        <button class="btn btn-light btn-block dropdown-toggle" type="button" id="companyDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Select Company
        </button>
        <div class="dropdown-menu" aria-labelledby="companyDropdown">
            <div class="dropdown-header">
                <input type="text" class="form-control search-input" placeholder="Search...">
            </div>
            {% for value, label in form.company.field.choices %}
            <a class="dropdown-item" href="#" data-value="{{ value }}">{{ label }}</a>
            {% endfor %}
        </div>
        <input type="hidden" name="company" id="companyDropdownInput">
    </div>
</div>

                                  {% comment %} <div class="col-md-6">
                                            <label class="form-label" for="id_company">Company<span class="asteriskField">*</span></label>
                                            <select class="form-control" id="id_company" required name="company">
                                        
                                         {% for value, label in form.company.field.choices %}
                                            <option value="{{ value }}">{{ label }}</option>
                                          {% endfor %}
                                      </select> 
                                     
                                        </div> {% endcomment %}
                              </div>
                              <div class="mb-3">
                                 <label class="form-label" for="id_email">Email<span class="asteriskField">*</span></label>
                                        <input type="email" class="form-control" id="id_email" required name="email" placeholder="Enter email">
                               </div>
                               <div class="row mb-3">
                              <div class="col-md-6">
                                    <label class="form-label" for="id_password1">Password<span class="asteriskField">*</span></label>
                                    
                                    <input type="password" name="password1" autocomplete="new-password" class="textinput textInput form-control" required id="id_password1"> 
                                    <small id="hint_id_password1" class="form-text text-muted"><ul><li>Your password can’t be too similar to your other personal information.</li><li>Your password must contain at least 8 characters.</li><li>Your password can’t be a commonly used password.</li><li>Your password can’t be entirely numeric.</li></ul></small>
                                </div>
                              
                                     <div class="col-md-6">
                                    <label class="form-label" for="id_username">Password Confirmation<span class="asteriskField">*</span></label>
                                    <input type="password" name="password2" autocomplete="new-password" class="textinput textInput form-control" required id="id_password2"> <small id="hint_id_password2" class="form-text text-muted">Enter the same password as before, for verification.</small>
                                    
                                </div>
                              </div>
                              <button type="submit" class="btn btn-primary">Register</button>
                              {% comment %} {% load crispy_forms_tags %}
                              {{ form|crispy }}
                              <button type='submit' class="btn btn-primary">Register</button> {% endcomment %}
                              </form>
                                        </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                        </div>
                    </div> 
                </div>
  {% comment %} {% block scripts %}
<script>
 
$(document).ready(function() {
    // Initialize dropdown menu with Popper JS
    var dropdown = new Popper($('#companyDropdown'), $('.dropdown-menu'), {
        placement: 'bottom-start'
    });

    // Handle search input
    $('.search-input').on('input', function() {
        var searchText = $(this).val().toLowerCase();

        // Show/hide options based on search text
        $('.dropdown-item').each(function() {
            var optionText = $(this).text().toLowerCase();
            if (optionText.indexOf(searchText) >= 0) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
    });

    // Handle option selection
    $('.dropdown-item').on('click', function(e) {
        e.preventDefault();
        var value = $(this).data('value');
        var label = $(this).text();
        $('#companyDropdown').html(label);
        $('#companyDropdownInput').val(value);
    });
});



</script>
{% endblock %}  {% endcomment %}





{% endblock %}
